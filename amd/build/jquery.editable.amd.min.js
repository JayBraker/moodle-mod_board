function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("mod_board/jquery.editable.amd",function(){(function(a,b){"use strict";var c=a(b),d=!1,e=!1,f=("ontouchend"in b),g="tinyMCE"in b&&"function"==typeof b.tinyMCE.init,h=a.fn.is,i=0,j=function(){var b=new Date().getTime();if(250>b-i){a(this).trigger("dbltap")}i=b},k=function(a){if(13==a.keyCode&&a.data.closeOnEnter){e.editable("close")}else if(a.data.toggleFontSize&&a.metaKey&&(38==a.keyCode||40==a.keyCode)){var b=parseInt(d.css("font-size"),10);b+=40==a.keyCode?-1:1;d.css("font-size",b+"px");return!1}},l=function(){if(d[0].scrollHeight!==parseInt(d.attr("data-scroll"),10)){d.css("height",d[0].scrollHeight+"px");d.attr("data-scroll",d[0].scrollHeight)}},m=function(a,b,c){a.removeAttr("data-is-editing");if(0==b.length&&c){a.html(c);a.attr("data-is-empty","empty")}else{a.html(b);a.removeAttr("data-is-empty")}d.remove()},n=function(b,f){if(b.is(":editing"))return;e=b;b.attr("data-is-editing","1");if(b.is(":empty")){b.removeAttr("data-is-empty");b.html("")}var g=a.trim(b.html()),h=b.css("font-size"),i=b.height(),j="width: 96%; padding:0; margin:0; border:0; background:none;font-family: "+b.css("font-family")+"; font-size: "+b.css("font-size")+";font-weight: "+b.css("font-weight")+";";if(f.lineBreaks){g=g.replace(/<br( |)(|\/)>/g,"\n")}d=a("<textarea></textarea>");b.text("");if(null!==navigator.userAgent.match(/webkit/i)){j=document.defaultView.getComputedStyle(b.get(0),"").cssText}j+="position: static";if(!1!==f.tinyMCE){var n="editable-area-"+new Date().getTime();d.val(g).appendTo(b).attr("id",n);if("object"!=_typeof(f.tinyMCE))f.tinyMCE={};f.tinyMCE.mode="exact";f.tinyMCE.elements=n;f.tinyMCE.width=b.innerWidth();f.tinyMCE.height=b.height()+200;f.tinyMCE.theme_advanced_resize_vertical=!0;f.tinyMCE.setup=function(h){h.onInit.add(function(h){var i=h.getWin(),j=!1,k=function(){var i=a(h.getDoc()).find("body").html();if(a(i).get(0).nodeName==b.get(0).nodeName){i=a(i).html()}m(b,i,f.emptyMessage);h.remove();d=!1;c.unbind("click",k);e=!1;if("function"==typeof f.callback){f.callback({content:i==g||!j?!1:i,fontSize:!1,$el:b})}};setTimeout(function(){c.bind("click",k)},500);d=a("<textarea></textarea>");d.bind("blur",k);i.onkeydown=function(){j=!0};i.focus()})};tinyMCE.init(f.tinyMCE)}else{if(f.toggleFontSize||f.closeOnEnter){c.bind("keydown",f,k)}c.bind("keyup",l);d.val(g).blur(function(){e=!1;var i=a.trim(d.val()),j=d.css("font-size");if(f.lineBreaks){i=i.replace(/\n/g,"<br />")}m(b,i,f.emptyMessage);if(j!=h){b.css("font-size",j)}c.unbind("keydown",k);c.unbind("keyup",l);if("function"==typeof f.callback){f.callback({content:i==g?!1:i,fontSize:j==h?!1:j,$el:b})}}).attr("style",j).appendTo(b).css({margin:0,padding:0,height:i+"px",overflow:"hidden"}).focus().get(0).select();l()}b.trigger("edit",[d])},o=function(b){if(!1!==e){e.editable("close");n(a(this),b.data)}else{n(a(this),b.data)}return!1};a.fn.editable=function(b){if("string"==typeof b){if(this.is(":editable")){switch(b){case"open":if(!this.is(":editing")){this.trigger(this.attr("data-edit-event"))}break;case"close":if(this.is(":editing")){d.trigger("blur")}break;case"destroy":if(this.is(":editing")){d.trigger("blur")}this.unbind(this.attr("data-edit-event"));this.removeAttr("data-edit-event");break;default:console.warn("Unknown command \""+b+"\" for jquery.editable");}}else{console.error("Calling .editable() on an element that is not editable, call .editable() first")}}else{if(this.is(":editable")){console.warn("Making an already editable element editable, call .editable(\"destroy\") first");this.editable("destroy")}b=a.extend({event:"dblclick",touch:!0,lineBreaks:!0,toggleFontSize:!0,closeOnEnter:!1,emptyMessage:!1,tinyMCE:!1},b);if(!1!==b.tinyMCE&&!g){console.warn("Trying to use tinyMCE as editor but id does not seem to be installed");b.tinyMCE=!1}if(f&&b.touch){b.event="dbltap";this.unbind("touchend",j);this.bind("touchend",j)}else{b.event+=".textEditor"}this.bind(b.event,b,o);this.attr("data-edit-event",b.event);if(0==this.html().length&&b.emptyMessage){this.html(b.emptyMessage);this.attr("data-is-empty","empty")}else{this.removeAttr("data-is-empty")}}return this};a.fn.is=function(a){if("string"==typeof a&&0===a.indexOf(":")){if(":editable"==a){return this.attr("data-edit-event")!==void 0}else if(":editing"==a){return this.attr("data-is-editing")!==void 0}else if(":empty"==a){return this.attr("data-is-empty")!==void 0}}return h.apply(this,arguments)}})(jQuery,window)});
//# sourceMappingURL=jquery.editable.amd.min.js.map
