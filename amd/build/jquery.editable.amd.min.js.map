{"version":3,"sources":["../src/jquery.editable.amd.js"],"names":["define","$","window","$win","$textArea","$currentlyEdited","SUPPORTS_TOUCH","TINYMCE_INSTALLED","tinyMCE","init","oldjQueryIs","fn","is","lastTap","tapper","now","Date","getTime","trigger","keyHandler","e","keyCode","data","closeOnEnter","editable","toggleFontSize","metaKey","fontSize","parseInt","css","adjustTextAreaHeight","scrollHeight","attr","resetElement","$el","newText","emptyMessage","removeAttr","length","html","remove","elementEditor","opts","defaultText","trim","defaultFontSize","elementHeight","height","textareaStyle","lineBreaks","replace","text","navigator","userAgent","match","document","defaultView","getComputedStyle","get","cssText","id","val","appendTo","mode","elements","width","innerWidth","theme_advanced_resize_vertical","setup","ed","onInit","add","editor","editorWindow","getWin","hasPressedKey","editorBlur","getDoc","find","nodeName","unbind","callback","content","setTimeout","bind","onkeydown","focus","blur","newFontSize","margin","padding","overflow","select","editEvent","event","console","warn","error","extend","touch","statement","indexOf","apply","arguments","jQuery"],"mappings":"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","sourcesContent":["define(function(require, exports, module) {\n/*\n* jQuery plugin that makes elements editable\n*\n* @author Victor Jonsson (http://victorjonsson.se/)\n* @website https://github.com/victorjonsson/jquery-editable/\n* @license GPLv2 http://www.gnu.org/licenses/gpl-2.0.html\n* @version 1.3.5\n* @donations http://victorjonsson.se/donations/\n*/(function($,window){\"use strict\";var $win=$(window),$textArea=false,$currentlyEdited=false,EVENT_ATTR=\"data-edit-event\",IS_EDITING_ATTR=\"data-is-editing\",EMPTY_ATTR=\"data-is-empty\",DBL_TAP_EVENT=\"dbltap\",SUPPORTS_TOUCH=\"ontouchend\"in window,TINYMCE_INSTALLED=\"tinyMCE\"in window&&typeof window.tinyMCE.init==\"function\",oldjQueryIs=$.fn.is,lastTap=0,tapper=function(){var now=(new Date).getTime();if(now-lastTap<250){$(this).trigger(DBL_TAP_EVENT)}lastTap=now},keyHandler=function(e){if(e.keyCode==13&&e.data.closeOnEnter){$currentlyEdited.editable(\"close\")}else if(e.data.toggleFontSize&&e.metaKey&&(e.keyCode==38||e.keyCode==40)){var fontSize=parseInt($textArea.css(\"font-size\"),10);fontSize+=e.keyCode==40?-1:1;$textArea.css(\"font-size\",fontSize+\"px\");return false}},adjustTextAreaHeight=function(){if($textArea[0].scrollHeight!==parseInt($textArea.attr(\"data-scroll\"),10)){$textArea.css(\"height\",$textArea[0].scrollHeight+\"px\");$textArea.attr(\"data-scroll\",$textArea[0].scrollHeight)}},resetElement=function($el,newText,emptyMessage){$el.removeAttr(IS_EDITING_ATTR);if(newText.length==0&&emptyMessage){$el.html(emptyMessage);$el.attr(EMPTY_ATTR,\"empty\")}else{$el.html(newText);$el.removeAttr(EMPTY_ATTR)}$textArea.remove()},elementEditor=function($el,opts){if($el.is(\":editing\"))return;$currentlyEdited=$el;$el.attr(IS_EDITING_ATTR,\"1\");if($el.is(\":empty\")){$el.removeAttr(EMPTY_ATTR);$el.html(\"\")}var defaultText=$.trim($el.html()),defaultFontSize=$el.css(\"font-size\"),elementHeight=$el.height(),textareaStyle=\"width: 96%; padding:0; margin:0; border:0; background:none;\"+\"font-family: \"+$el.css(\"font-family\")+\"; font-size: \"+$el.css(\"font-size\")+\";\"+\"font-weight: \"+$el.css(\"font-weight\")+\";\";if(opts.lineBreaks){defaultText=defaultText.replace(/<br( |)(|\\/)>/g,\"\\n\")}$textArea=$(\"<textarea></textarea>\");$el.text(\"\");if(navigator.userAgent.match(/webkit/i)!==null){textareaStyle=document.defaultView.getComputedStyle($el.get(0),\"\").cssText}textareaStyle+=\"position: static\";if(opts.tinyMCE!==false){var id=\"editable-area-\"+(new Date).getTime();$textArea.val(defaultText).appendTo($el).attr(\"id\",id);if(typeof opts.tinyMCE!=\"object\")opts.tinyMCE={};opts.tinyMCE.mode=\"exact\";opts.tinyMCE.elements=id;opts.tinyMCE.width=$el.innerWidth();opts.tinyMCE.height=$el.height()+200;opts.tinyMCE.theme_advanced_resize_vertical=true;opts.tinyMCE.setup=function(ed){ed.onInit.add(function(editor,evt){var editorWindow=editor.getWin();var hasPressedKey=false;var editorBlur=function(){var newText=$(editor.getDoc()).find(\"body\").html();if($(newText).get(0).nodeName==$el.get(0).nodeName){newText=$(newText).html()}resetElement($el,newText,opts.emptyMessage);editor.remove();$textArea=false;$win.unbind(\"click\",editorBlur);$currentlyEdited=false;if(typeof opts.callback==\"function\"){opts.callback({content:newText==defaultText||!hasPressedKey?false:newText,fontSize:false,$el:$el})}};setTimeout(function(){$win.bind(\"click\",editorBlur)},500);$textArea=$(\"<textarea></textarea>\");$textArea.bind(\"blur\",editorBlur);editorWindow.onkeydown=function(){hasPressedKey=true};editorWindow.focus()})};tinyMCE.init(opts.tinyMCE)}else{if(opts.toggleFontSize||opts.closeOnEnter){$win.bind(\"keydown\",opts,keyHandler)}$win.bind(\"keyup\",adjustTextAreaHeight);$textArea.val(defaultText).blur(function(){$currentlyEdited=false;var newText=$.trim($textArea.val()),newFontSize=$textArea.css(\"font-size\");if(opts.lineBreaks){newText=newText.replace(new RegExp(\"\\n\",\"g\"),\"<br />\")}resetElement($el,newText,opts.emptyMessage);if(newFontSize!=defaultFontSize){$el.css(\"font-size\",newFontSize)}$win.unbind(\"keydown\",keyHandler);$win.unbind(\"keyup\",adjustTextAreaHeight);if(typeof opts.callback==\"function\"){opts.callback({content:newText==defaultText?false:newText,fontSize:newFontSize==defaultFontSize?false:newFontSize,$el:$el})}}).attr(\"style\",textareaStyle).appendTo($el).css({margin:0,padding:0,height:elementHeight+\"px\",overflow:\"hidden\"}).focus().get(0).select();adjustTextAreaHeight()}$el.trigger(\"edit\",[$textArea])},editEvent=function(event){if($currentlyEdited!==false){$currentlyEdited.editable(\"close\");elementEditor($(this),event.data)}else{elementEditor($(this),event.data)}return false};$.fn.editable=function(opts){if(typeof opts==\"string\"){if(this.is(\":editable\")){switch(opts){case\"open\":if(!this.is(\":editing\")){this.trigger(this.attr(EVENT_ATTR))}break;case\"close\":if(this.is(\":editing\")){$textArea.trigger(\"blur\")}break;case\"destroy\":if(this.is(\":editing\")){$textArea.trigger(\"blur\")}this.unbind(this.attr(EVENT_ATTR));this.removeAttr(EVENT_ATTR);break;default:console.warn('Unknown command \"'+opts+'\" for jquery.editable')}}else{console.error(\"Calling .editable() on an element that is not editable, call .editable() first\")}}else{if(this.is(\":editable\")){console.warn('Making an already editable element editable, call .editable(\"destroy\") first');this.editable(\"destroy\")}opts=$.extend({event:\"dblclick\",touch:true,lineBreaks:true,toggleFontSize:true,closeOnEnter:false,emptyMessage:false,tinyMCE:false},opts);if(opts.tinyMCE!==false&&!TINYMCE_INSTALLED){console.warn(\"Trying to use tinyMCE as editor but id does not seem to be installed\");opts.tinyMCE=false}if(SUPPORTS_TOUCH&&opts.touch){opts.event=DBL_TAP_EVENT;this.unbind(\"touchend\",tapper);this.bind(\"touchend\",tapper)}else{opts.event+=\".textEditor\"}this.bind(opts.event,opts,editEvent);this.attr(EVENT_ATTR,opts.event);if(this.html().length==0&&opts.emptyMessage){this.html(opts.emptyMessage);this.attr(EMPTY_ATTR,\"empty\")}else{this.removeAttr(EMPTY_ATTR)}}return this};$.fn.is=function(statement){if(typeof statement==\"string\"&&statement.indexOf(\":\")===0){if(statement==\":editable\"){return this.attr(EVENT_ATTR)!==undefined}else if(statement==\":editing\"){return this.attr(IS_EDITING_ATTR)!==undefined}else if(statement==\":empty\"){return this.attr(EMPTY_ATTR)!==undefined}}return oldjQueryIs.apply(this,arguments)}})(jQuery,window);\n});\n"],"file":"jquery.editable.amd.min.js"}